# FastAPI Warehouse Management System

## Описание

Этот проект представляет собой REST API для управления процессами на складе. Он позволяет управлять товарами, запасами и заказами с использованием FastAPI и PostgreSQL. Проект поддерживает асинхронную работу с базой данных через SQLAlchemy 2 и предоставляет тесты с использованием `pytest`.

## Технологии

- **FastAPI** — для построения REST API
- **PostgreSQL** — база данных для хранения данных
- **SQLAlchemy 2** — ORM для работы с базой данных
- **asyncpg** — для асинхронного взаимодействия с PostgreSQL
- **Docker** — для контейнеризации приложения
- **pytest** — для тестирования
- **Tortoise ORM** — для дополнительных операций с базой данных (если требуется)

## Требования

- Docker и Docker Compose
- Python 3.9+

## Развертывание с Docker

1. **Клонирование репозитория:**

   ```bash
   git clone <URL вашего репозитория>
   cd <имя папки проекта>
   ```

2. **Запуск Docker контейнеров:**

   Для сборки и запуска контейнеров выполните команды:

   ```bash
   docker-compose up --build
   ```

3. **Миграции базы данных:**

   После запуска контейнеров примените миграции к базе данных:

   ```bash
   docker-compose exec app alembic upgrade head
   ```

4. **Открытие приложения:**

   После успешного запуска, API будет доступно по адресу: [http://localhost:8000/](http://localhost:8000/).


## Использование

### Основные API маршруты

- **GET** `/items/` — Получить список товаров
- **POST** `/items/` — Создать новый товар
- **PUT** `/items/{id}` — Обновить существующий товар
- **DELETE** `/items/{id}` — Удалить товар

Для доступа к Swagger документации откройте: [http://localhost:8000/](http://localhost:8000/).

### Тестирование

Тесты написаны с использованием `pytest`. Для запуска тестов выполните следующую команду:

```bash
pytest
```

## Контейнеризация

Приложение контейнеризовано с помощью Docker. В контейнерах запускаются:
- FastAPI приложение (контейнер `app`)
- PostgreSQL база данных (контейнер `db`)

### Основные команды Docker

- **Запуск приложения:**

  ```bash
  docker-compose up
  ```

- **Остановка приложения:**

  ```bash
  docker-compose down
  ```

- **Пересборка контейнеров:**

  ```bash
  docker-compose up --build
  ```
